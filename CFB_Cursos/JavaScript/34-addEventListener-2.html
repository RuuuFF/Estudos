<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>addEventListener 2</title>
  
<style>
  * {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
  }

  #myDiv {
    width: 100px;
    height: 100px;
    top: 0;
    left: 0;
    border: 1px solid black;
    position: absolute;
  }
</style>
</head>
<body>
 <div id="myDiv"></div>
<script>
  var posX = 0;
  var posY = 0;

  function move() {
    var obj = document.getElementById("myDiv");
    var tecla = event.keyCode;
    // 37 left, 38 top, 39 right, 40 bottom
    
    if (tecla == 37) {
      posX -= 10;
      obj.style.left = posX + "px";
    } else if (tecla == 38) {
      posY -= 10;
      obj.style.top = posY + "px";
    } else if (tecla == 39) {
      posX += 10;
      obj.style.left = posX + "px";
    } else if (tecla == 40) {
      posY += 10;
      obj.style.top = posX + "px";
    } else if (tecla == 13) {
      alert("Evento keydown removido.")
      document.removeEventListener("keydown", move);
      obj.style.backgroundColor = "#fff";
    }
  }
  
  var myDiv = document.getElementById("myDiv");
  myDiv.addEventListener("click", function() {
    alert("Evento keydown adicionado");
    document.addEventListener("keydown", move);
    myDiv.style.backgroundColor = "lightcoral";
  });
  
  // https://developer.mozilla.org/pt-BR/docs/Web/API/Document/keydown_event
  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event
  // https://www.w3schools.com/jsref/event_onkeydown.asp
  
  // nice: https://www.javascripttutorial.net/javascript-dom/javascript-keyboard-events/
</script>
</body>
</html>